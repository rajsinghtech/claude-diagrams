<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Tailscale Kubernetes Operator Proxy Architecture | Claude Diagrams</title>
<meta name=generator content="Hugo 0.121.2"><link rel=stylesheet href=/claude-diagrams/pr-preview/pr-17/css/main.min.6031f18919a5919243f3aef7c58df672be3052a45dd4517b8fc728761fda4de4.css></head><body><main><article class=diagram-single><header class=diagram-header><h1>Tailscale Kubernetes Operator Proxy Architecture</h1><p class=description>Technical diagram showing Tailscale Kubernetes Operator ingress and egress proxy flows for connecting external Tailscale clients to K8s services and K8s workloads to external resources</p><div class=metadata><time>July 23, 2025</time><div class=tags><a href=/claude-diagrams/pr-preview/pr-17/tags/wireguard/ class=tag>#wireguard</a>
<a href=/claude-diagrams/pr-preview/pr-17/tags/kubernetes/ class=tag>#kubernetes</a>
<a href=/claude-diagrams/pr-preview/pr-17/tags/zero-trust/ class=tag>#zero-trust</a>
<a href=/claude-diagrams/pr-preview/pr-17/tags/ingress/ class=tag>#ingress</a>
<a href=/claude-diagrams/pr-preview/pr-17/tags/egress/ class=tag>#egress</a>
<a href=/claude-diagrams/pr-preview/pr-17/tags/mesh-vpn/ class=tag>#mesh-vpn</a>
<a href=/claude-diagrams/pr-preview/pr-17/tags/connector/ class=tag>#connector</a>
<a href=/claude-diagrams/pr-preview/pr-17/tags/exit-node/ class=tag>#exit-node</a>
<a href=/claude-diagrams/pr-preview/pr-17/tags/cloud/ class=tag>#cloud</a></div></div></header><div class=diagram-container><div class=svg-wrapper><svg width="1200" height="900" viewBox="0 0 1200 900" xmlns="http://www.w3.org/2000/svg"><text x="600" y="35" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="20" font-weight="600" fill="#000">Tailscale Kubernetes Operator Proxy Architecture</text><rect x="40" y="80" width="1120" height="720" fill="#fff" stroke="#000" stroke-width="2" rx="8"/><text x="600" y="110" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="18" font-weight="500" fill="#000">Kubernetes Cluster</text><g id="control-plane"><rect x="900" y="140" width="220" height="80" fill="#e3f2fd" stroke="#000" stroke-width="2" rx="4"/><text x="1010" y="165" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">Tailscale Control Plane</text><text x="1010" y="185" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#374151">• Key Exchange</text><text x="1010" y="200" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#374151">• Policy Distribution</text></g><g id="operator"><rect x="460" y="160" width="280" height="100" fill="#fff" stroke="#000" stroke-width="2" rx="4"/><text x="600" y="185" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="16" font-weight="600" fill="#000">Tailscale Operator</text><rect x="480" y="200" width="100" height="40" fill="#f5f5f5" stroke="#000" stroke-width="1" rx="4"/><text x="530" y="225" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">Controller</text><rect x="620" y="200" width="100" height="40" fill="#f5f5f5" stroke="#000" stroke-width="1" rx="4"/><text x="670" y="225" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">ProxyClass</text></g><g id="ingress-proxies"><rect x="100" y="320" width="200" height="120" fill="#fff" stroke="#ff9800" stroke-width="2" rx="4"/><rect x="110" y="330" width="60" height="20" fill="#ff9800" rx="2"/><text x="140" y="345" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" font-weight="600" fill="#fff">INGRESS</text><text x="200" y="360" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">web-proxy</text><text x="200" y="380" text-anchor="middle" font-family="monospace" font-size="12" fill="#374151">100.64.0.10</text><text x="200" y="400" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#64748b">→ web-service:80</text><circle cx="280" cy="350" r="8" fill="#4caf50"/><rect x="340" y="320" width="200" height="120" fill="#fff" stroke="#ff9800" stroke-width="2" rx="4"/><rect x="350" y="330" width="60" height="20" fill="#ff9800" rx="2"/><text x="380" y="345" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" font-weight="600" fill="#fff">INGRESS</text><text x="440" y="360" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">api-proxy</text><text x="440" y="380" text-anchor="middle" font-family="monospace" font-size="12" fill="#374151">100.64.0.12</text><text x="440" y="400" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#64748b">→ api-service:8080</text><circle cx="520" cy="350" r="8" fill="#4caf50"/></g><g id="k8s-services"><rect x="100" y="480" width="200" height="80" fill="#fff" stroke="#000" stroke-width="1" rx="4"/><text x="200" y="510" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">web-service</text><text x="200" y="530" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#64748b">ClusterIP</text><text x="200" y="545" text-anchor="middle" font-family="monospace" font-size="11" fill="#374151">10.96.0.10</text><rect x="340" y="480" width="200" height="80" fill="#fff" stroke="#000" stroke-width="1" rx="4"/><text x="440" y="510" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">api-service</text><text x="440" y="530" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#64748b">ClusterIP</text><text x="440" y="545" text-anchor="middle" font-family="monospace" font-size="11" fill="#374151">10.96.0.20</text></g><g id="app-pods"><rect x="100" y="600" width="200" height="80" fill="#fff" stroke="#000" stroke-width="1" rx="4"/><text x="200" y="630" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">web-app</text><text x="200" y="650" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#64748b">Pod</text><rect x="340" y="600" width="200" height="80" fill="#fff" stroke="#000" stroke-width="1" rx="4"/><text x="440" y="630" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">api-app</text><text x="440" y="650" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#64748b">Pod</text></g><g id="egress-proxy"><rect x="660" y="320" width="200" height="120" fill="#fff" stroke="#2196f3" stroke-width="2" rx="4"/><rect x="670" y="330" width="40" height="20" fill="#2196f3" rx="2"/><text x="690" y="345" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" font-weight="600" fill="#fff">EXIT</text><text x="760" y="360" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">egress-proxy</text><text x="760" y="380" text-anchor="middle" font-family="monospace" font-size="12" fill="#374151">100.64.0.20</text><text x="760" y="400" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#64748b">Routes: 0.0.0.0/0</text><circle cx="840" cy="350" r="8" fill="#4caf50"/></g><rect x="660" y="480" width="200" height="80" fill="#fff" stroke="#000" stroke-width="1" rx="4"/><text x="760" y="510" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">client-pod</text><text x="760" y="530" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#64748b">Needs External DB</text><g id="external-nodes"><rect x="100" y="140" width="160" height="80" fill="#fff" stroke="#000" stroke-width="2" rx="4"/><text x="180" y="170" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">laptop</text><text x="180" y="190" text-anchor="middle" font-family="monospace" font-size="12" fill="#374151">100.64.1.5</text><circle cx="240" cy="160" r="8" fill="#4caf50"/><rect x="920" y="480" width="160" height="80" fill="#fff" stroke="#000" stroke-width="2" rx="4"/><text x="1e3" y="510" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">database</text><text x="1e3" y="530" text-anchor="middle" font-family="monospace" font-size="12" fill="#374151">100.64.2.10</text><circle cx="1060" cy="500" r="8" fill="#4caf50"/></g><g id="connections" fill="none"><path d="M9e2 180q-5 0-10 0H745h-5" stroke="#9ca3af" stroke-width="1" stroke-dasharray="2,2"/><path d="M9e2 180q-5 0-5 5V3e2q0 5-5 5H765q-5 0-5 5v10" stroke="#9ca3af" stroke-width="1" stroke-dasharray="2,2"/><path d="M9e2 180q-5 0-5 5V3e2q0 5-5 5H205q-5 0-5 5v10" stroke="#9ca3af" stroke-width="1" stroke-dasharray="2,2"/><path d="M9e2 180q-5 0-5 5V3e2q0 5-5 5H445q-5 0-5 5v10" stroke="#9ca3af" stroke-width="1" stroke-dasharray="2,2"/><path d="M180 220q0 5 0 10v60q0 5 5 5h10q5 0 5 5v20" stroke="#000" stroke-width="3" marker-end="url(#arrowhead)"/><text x="160" y="270" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">direct</text><line x1="200" y1="440" x2="200" y2="480" stroke="#000" stroke-width="3"/><line x1="440" y1="440" x2="440" y2="480" stroke="#000" stroke-width="3"/><line x1="200" y1="560" x2="200" y2="600" stroke="#000" stroke-width="3" marker-end="url(#arrowhead)"/><line x1="440" y1="560" x2="440" y2="600" stroke="#000" stroke-width="3" marker-end="url(#arrowhead)"/><line x1="760" y1="560" x2="760" y2="440" stroke="#000" stroke-width="3" marker-end="url(#arrowhead)"/><path d="M860 380q5 0 5 5v55q0 5 5 5h45q5 0 5 5v30" stroke="#000" stroke-width="3" marker-end="url(#arrowhead)"/><text x="880" y="430" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">direct</text><path d="M530 260q0 5-5 5H205q-5 0-5 5v50" stroke="#9ca3af" stroke-width="1" stroke-dasharray="3,3"/><path d="M6e2 260q0 5 0 10v20q0 5-5 5H445q-5 0-5 5v20" stroke="#9ca3af" stroke-width="1" stroke-dasharray="3,3"/><path d="M670 260q0 5 5 5h80q5 0 5 5v50" stroke="#9ca3af" stroke-width="1" stroke-dasharray="3,3"/></g><defs><marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#000"/></marker></defs><g id="legend" transform="translate(80, 750)"><text x="0" y="0" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="600" fill="#000">Legend:</text><circle cx="10" cy="20" r="8" fill="#4caf50"/><text x="25" y="25" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">Online/Connected</text><rect x="150" y="12" width="50" height="16" fill="#ff9800" rx="2"/><text x="175" y="24" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" font-weight="600" fill="#fff">INGRESS</text><text x="210" y="25" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">Ingress Proxy (Connector)</text><rect x="380" y="12" width="35" height="16" fill="#2196f3" rx="2"/><text x="397" y="24" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" font-weight="600" fill="#fff">EXIT</text><text x="425" y="25" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">Exit Node</text><line x1="550" y1="20" x2="590" y2="20" stroke="#000" stroke-width="3"/><text x="600" y="25" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">Direct WireGuard Connection</text><line x1="780" y1="20" x2="820" y2="20" stroke="#000" stroke-width="1" stroke-dasharray="2,2"/><text x="830" y="25" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">Control Plane</text></g><g id="features" transform="translate(920, 600)"><rect x="0" y="0" width="220" height="140" fill="#f5f5f5" stroke="#000" stroke-width="1" rx="4"/><text x="110" y="20" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="600" fill="#000">Key Features</text><text x="10" y="40" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">• Zero-config ingress</text><text x="10" y="60" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">• Automatic proxy deployment</text><text x="10" y="80" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">• Service discovery</text><text x="10" y="100" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">• Mesh network integration</text><text x="10" y="120" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">• ProxyClass management</text></g></svg></div></div><div class=diagram-description><p>This diagram illustrates the Tailscale Kubernetes Operator proxy architecture, showing:</p><ul><li><strong>Ingress Proxy</strong>: External Tailscale clients accessing Kubernetes services through proxy pods</li><li><strong>Egress Proxy</strong>: Kubernetes workloads connecting to external Tailscale resources</li><li><strong>ProxyClass Resources</strong>: Configuration management for different proxy types</li><li><strong>Operator Controller</strong>: Automated deployment and management of proxy pods</li><li><strong>Traffic Flows</strong>: Secure WireGuard tunnels for both inbound and outbound connections</li></ul><p>The operator enables seamless integration between Tailscale&rsquo;s zero-trust network and Kubernetes clusters, providing secure connectivity without complex networking configurations.</p></div></article><style>.diagram-single{max-width:1200px;margin:0 auto;padding:2rem}.diagram-header{margin-bottom:2rem;text-align:center}.diagram-header h1{font-size:2.5rem;margin-bottom:1rem}.description{font-size:1.2rem;color:var(--text-secondary);margin-bottom:1rem}.metadata{display:flex;justify-content:center;align-items:center;gap:2rem;color:var(--text-secondary);font-size:.9rem}.tags{display:flex;gap:.5rem}.tag{background:var(--bg-secondary);padding:.25rem .75rem;border-radius:9999px;text-decoration:none;color:var(--text-secondary);transition:all .3s}.tag:hover{background:var(--accent);color:#fff}.diagram-container{background:var(--bg-secondary);border-radius:8px;padding:2rem;margin:2rem 0;overflow:auto}.svg-wrapper{display:flex;justify-content:center;align-items:center;min-height:400px}.svg-wrapper svg{max-width:100%;height:auto}.diagram-description{margin-top:2rem;font-size:1.1rem;line-height:1.8}</style></main></body></html>