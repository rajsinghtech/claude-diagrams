<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Network Diagrams | Claude Diagrams</title>
<meta name=generator content="Hugo 0.121.2"><link rel=stylesheet href=/claude-diagrams/css/main.min.6031f18919a5919243f3aef7c58df672be3052a45dd4517b8fc728761fda4de4.css></head><body><main><div class=section-container><header class=section-header><h1>Network Diagrams</h1><p class=description>Network architecture and topology diagrams</p></header><div class=diagrams-grid><article class=diagram-card><a href=https://rajsinghtech.github.io/claude-diagrams/diagrams/network/tailscale-udp-relay-flow/ class=diagram-link><div class=diagram-preview><div class=svg-thumbnail><svg viewBox="0 0 900 600" xmlns="http://www.w3.org/2000/svg"><defs><marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto"><polygon points="0,0 10,5 0,10" fill="#000"/></marker><marker id="arrowhead-grey" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto"><polygon points="0,0 10,5 0,10" fill="#6b7280"/></marker><marker id="arrowhead-double" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto"><polygon points="0,0 10,5 0,10" fill="#000"/></marker></defs><title>Basic DERP Relay Flow</title><desc>Visualizing how Tailscale uses DERP servers for UDP relay and connection establishment</desc><rect width="900" height="600" fill="#fff"/><text x="450" y="30" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="20" font-weight="600" fill="#000">Basic DERP Relay Flow</text><g id="node-a-network"><rect x="50" y="150" width="200" height="300" fill="#f5f5f5" stroke="#e5e7eb" stroke-width="1" rx="5"/><text x="150" y="130" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#374151">Node A Network</text><rect x="80" y="250" width="140" height="80" fill="#1976d2" stroke="#fff" stroke-width="2" rx="5"/><text x="150" y="275" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#fff">Node A</text><text x="150" y="295" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" font-weight="400" fill="#fff">100.64.1.10</text><text x="150" y="315" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" font-weight="400" fill="#fff">Behind NAT</text></g><g id="derp-infrastructure"><rect x="350" y="100" width="200" height="400" fill="#fef3e2" stroke="#fed7aa" stroke-width="1" rx="5"/><text x="450" y="80" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#374151">DERP Infrastructure</text><rect x="380" y="250" width="140" height="80" fill="#f57c00" stroke="#fff" stroke-width="2" rx="5" stroke-dasharray="5,3"/><text x="450" y="275" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#fff">DERP Server</text><text x="450" y="295" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" font-weight="400" fill="#fff">nyc.derp.example</text><text x="450" y="315" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" font-weight="400" fill="#fff">Relay Only</text></g><g id="node-b-network"><rect x="650" y="150" width="200" height="300" fill="#f5f5f5" stroke="#e5e7eb" stroke-width="1" rx="5"/><text x="750" y="130" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#374151">Node B Network</text><rect x="680" y="250" width="140" height="80" fill="#1976d2" stroke="#fff" stroke-width="2" rx="5"/><text x="750" y="275" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#fff">Node B</text><text x="750" y="295" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" font-weight="400" fill="#fff">100.64.2.20</text><text x="750" y="315" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" font-weight="400" fill="#fff">Behind NAT</text></g><g id="connections"><path d="M220 270q80-40 160 0" fill="none" stroke="#6b7280" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowhead-grey)"/><rect x="240" y="220" width="120" height="40" fill="#fff" stroke="none"/><text x="300" y="235" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#374151">1. Initial Connection</text><text x="300" y="250" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#374151">via DERP</text><path d="M520 290q80-40 160 0" fill="none" stroke="#6b7280" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowhead-grey)"/><rect x="540" y="220" width="120" height="40" fill="#fff" stroke="none"/><text x="600" y="235" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#374151">2. Relay Encrypted</text><text x="600" y="250" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#374151">WireGuard Traffic</text><path d="M220 330q230 90 460 0" fill="none" stroke="#ff9800" stroke-width="2" stroke-dasharray="2,2" marker-end="url(#arrowhead)"/><rect x="380" y="410" width="140" height="55" fill="#fff" stroke="none"/><text x="450" y="425" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#374151">3. Attempt Direct</text><text x="450" y="440" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#374151">Connection</text><text x="450" y="455" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#374151">NAT Traversal</text><line x1="220" y1="290" x2="680" y2="290" stroke="#000" stroke-width="3" marker-end="url(#arrowhead-double)"/><rect x="380" y="345" width="140" height="55" fill="#fff" stroke="none"/><text x="450" y="360" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" font-weight="500" fill="#000">4. Upgrade to Direct</text><text x="450" y="375" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" font-weight="500" fill="#000">P2P Connection</text><text x="450" y="390" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" font-weight="500" fill="#000">When Successful</text></g><g id="legend"><text x="50" y="510" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="600" fill="#000">Connection Types:</text><line x1="50" y1="535" x2="90" y2="535" stroke="#000" stroke-width="3"/><text x="100" y="540" font-family="Inter, Arial, sans-serif" font-size="12" fill="#374151">Active data flow (WireGuard encrypted)</text><line x1="350" y1="535" x2="390" y2="535" stroke="#6b7280" stroke-width="2" stroke-dasharray="5,3"/><text x="400" y="540" font-family="Inter, Arial, sans-serif" font-size="12" fill="#374151">DERP relay connections</text><line x1="50" y1="560" x2="90" y2="560" stroke="#ff9800" stroke-width="2" stroke-dasharray="2,2"/><text x="100" y="565" font-family="Inter, Arial, sans-serif" font-size="12" fill="#374151">NAT traversal attempts</text><text x="350" y="565" font-family="Inter, Arial, sans-serif" font-size="12" fill="#374151">Upgraded direct P2P connection</text></g></svg></div></div><div class=diagram-info><h3>Basic DERP Relay Flow</h3><p>Visualizing how Tailscale uses DERP servers for UDP relay and connection establishment</p><time>July 24, 2025</time></div></a></article><article class=diagram-card><a href=https://rajsinghtech.github.io/claude-diagrams/diagrams/network/tailscale-derp-connection-flow/ class=diagram-link><div class=diagram-preview><div class=placeholder><span>Tailscale DERP Connection Establishment Flow</span></div></div><div class=diagram-info><h3>Tailscale DERP Connection Establishment Flow</h3><p>Detailed sequence diagram showing how Tailscale establishes connections using DERP servers and DISCO protocol</p><time>July 24, 2025</time></div></a></article><article class=diagram-card><a href=https://rajsinghtech.github.io/claude-diagrams/diagrams/network/tailscale-nat-traversal-fallback/ class=diagram-link><div class=diagram-preview><div class=placeholder><span>Tailscale NAT Traversal and Fallback Mechanism</span></div></div><div class=diagram-info><h3>Tailscale NAT Traversal and Fallback Mechanism</h3><p>Comprehensive diagram showing Tailscale's multi-technique NAT traversal approach and fallback to DERP relay</p><time>July 24, 2025</time></div></a></article><article class=diagram-card><a href=https://rajsinghtech.github.io/claude-diagrams/diagrams/network/tailscale-k8s-operator-proxy/ class=diagram-link><div class=diagram-preview><div class=svg-thumbnail><svg width="1200" height="900" viewBox="0 0 1200 900" xmlns="http://www.w3.org/2000/svg"><text x="600" y="35" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="20" font-weight="600" fill="#000">Tailscale Kubernetes Operator Proxy Architecture</text><rect x="40" y="80" width="1120" height="720" fill="#fff" stroke="#000" stroke-width="2" rx="8"/><text x="600" y="110" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="18" font-weight="500" fill="#000">Kubernetes Cluster</text><g id="control-plane"><rect x="900" y="140" width="220" height="80" fill="#e3f2fd" stroke="#000" stroke-width="2" rx="4"/><text x="1010" y="165" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">Tailscale Control Plane</text><text x="1010" y="185" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#374151">• Key Exchange</text><text x="1010" y="200" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#374151">• Policy Distribution</text></g><g id="operator"><rect x="460" y="160" width="280" height="100" fill="#fff" stroke="#000" stroke-width="2" rx="4"/><text x="600" y="185" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="16" font-weight="600" fill="#000">Tailscale Operator</text><rect x="480" y="200" width="100" height="40" fill="#f5f5f5" stroke="#000" stroke-width="1" rx="4"/><text x="530" y="225" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">Controller</text><rect x="620" y="200" width="100" height="40" fill="#f5f5f5" stroke="#000" stroke-width="1" rx="4"/><text x="670" y="225" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">ProxyClass</text></g><g id="ingress-proxies"><rect x="100" y="320" width="200" height="120" fill="#fff" stroke="#ff9800" stroke-width="2" rx="4"/><rect x="110" y="330" width="60" height="20" fill="#ff9800" rx="2"/><text x="140" y="345" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" font-weight="600" fill="#fff">INGRESS</text><text x="200" y="360" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">web-proxy</text><text x="200" y="380" text-anchor="middle" font-family="monospace" font-size="12" fill="#374151">100.64.0.10</text><text x="200" y="400" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#64748b">→ web-service:80</text><circle cx="280" cy="350" r="8" fill="#4caf50"/><rect x="340" y="320" width="200" height="120" fill="#fff" stroke="#ff9800" stroke-width="2" rx="4"/><rect x="350" y="330" width="60" height="20" fill="#ff9800" rx="2"/><text x="380" y="345" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" font-weight="600" fill="#fff">INGRESS</text><text x="440" y="360" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">api-proxy</text><text x="440" y="380" text-anchor="middle" font-family="monospace" font-size="12" fill="#374151">100.64.0.12</text><text x="440" y="400" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#64748b">→ api-service:8080</text><circle cx="520" cy="350" r="8" fill="#4caf50"/></g><g id="k8s-services"><rect x="100" y="480" width="200" height="80" fill="#fff" stroke="#000" stroke-width="1" rx="4"/><text x="200" y="510" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">web-service</text><text x="200" y="530" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#64748b">ClusterIP</text><text x="200" y="545" text-anchor="middle" font-family="monospace" font-size="11" fill="#374151">10.96.0.10</text><rect x="340" y="480" width="200" height="80" fill="#fff" stroke="#000" stroke-width="1" rx="4"/><text x="440" y="510" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">api-service</text><text x="440" y="530" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#64748b">ClusterIP</text><text x="440" y="545" text-anchor="middle" font-family="monospace" font-size="11" fill="#374151">10.96.0.20</text></g><g id="app-pods"><rect x="100" y="600" width="200" height="80" fill="#fff" stroke="#000" stroke-width="1" rx="4"/><text x="200" y="630" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">web-app</text><text x="200" y="650" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#64748b">Pod</text><rect x="340" y="600" width="200" height="80" fill="#fff" stroke="#000" stroke-width="1" rx="4"/><text x="440" y="630" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">api-app</text><text x="440" y="650" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#64748b">Pod</text></g><g id="egress-proxy"><rect x="660" y="320" width="200" height="120" fill="#fff" stroke="#2196f3" stroke-width="2" rx="4"/><rect x="670" y="330" width="40" height="20" fill="#2196f3" rx="2"/><text x="690" y="345" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" font-weight="600" fill="#fff">EXIT</text><text x="760" y="360" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">egress-proxy</text><text x="760" y="380" text-anchor="middle" font-family="monospace" font-size="12" fill="#374151">100.64.0.20</text><text x="760" y="400" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#64748b">Routes: 0.0.0.0/0</text><circle cx="840" cy="350" r="8" fill="#4caf50"/></g><rect x="660" y="480" width="200" height="80" fill="#fff" stroke="#000" stroke-width="1" rx="4"/><text x="760" y="510" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">client-pod</text><text x="760" y="530" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#64748b">Needs External DB</text><g id="external-nodes"><rect x="100" y="140" width="160" height="80" fill="#fff" stroke="#000" stroke-width="2" rx="4"/><text x="180" y="170" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">laptop</text><text x="180" y="190" text-anchor="middle" font-family="monospace" font-size="12" fill="#374151">100.64.1.5</text><circle cx="240" cy="160" r="8" fill="#4caf50"/><rect x="920" y="480" width="160" height="80" fill="#fff" stroke="#000" stroke-width="2" rx="4"/><text x="1e3" y="510" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">database</text><text x="1e3" y="530" text-anchor="middle" font-family="monospace" font-size="12" fill="#374151">100.64.2.10</text><circle cx="1060" cy="500" r="8" fill="#4caf50"/></g><g id="connections" fill="none"><path d="M9e2 180q-5 0-10 0H745h-5" stroke="#9ca3af" stroke-width="1" stroke-dasharray="2,2"/><path d="M9e2 180q-5 0-5 5V3e2q0 5-5 5H765q-5 0-5 5v10" stroke="#9ca3af" stroke-width="1" stroke-dasharray="2,2"/><path d="M9e2 180q-5 0-5 5V3e2q0 5-5 5H205q-5 0-5 5v10" stroke="#9ca3af" stroke-width="1" stroke-dasharray="2,2"/><path d="M9e2 180q-5 0-5 5V3e2q0 5-5 5H445q-5 0-5 5v10" stroke="#9ca3af" stroke-width="1" stroke-dasharray="2,2"/><path d="M180 220q0 5 0 10v60q0 5 5 5h10q5 0 5 5v20" stroke="#000" stroke-width="3" marker-end="url(#arrowhead)"/><text x="160" y="270" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">direct</text><line x1="200" y1="440" x2="200" y2="480" stroke="#000" stroke-width="3"/><line x1="440" y1="440" x2="440" y2="480" stroke="#000" stroke-width="3"/><line x1="200" y1="560" x2="200" y2="600" stroke="#000" stroke-width="3" marker-end="url(#arrowhead)"/><line x1="440" y1="560" x2="440" y2="600" stroke="#000" stroke-width="3" marker-end="url(#arrowhead)"/><line x1="760" y1="560" x2="760" y2="440" stroke="#000" stroke-width="3" marker-end="url(#arrowhead)"/><path d="M860 380q5 0 5 5v55q0 5 5 5h45q5 0 5 5v30" stroke="#000" stroke-width="3" marker-end="url(#arrowhead)"/><text x="880" y="430" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">direct</text><path d="M530 260q0 5-5 5H205q-5 0-5 5v50" stroke="#9ca3af" stroke-width="1" stroke-dasharray="3,3"/><path d="M6e2 260q0 5 0 10v20q0 5-5 5H445q-5 0-5 5v20" stroke="#9ca3af" stroke-width="1" stroke-dasharray="3,3"/><path d="M670 260q0 5 5 5h80q5 0 5 5v50" stroke="#9ca3af" stroke-width="1" stroke-dasharray="3,3"/></g><defs><marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#000"/></marker></defs><g id="legend" transform="translate(80, 750)"><text x="0" y="0" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="600" fill="#000">Legend:</text><circle cx="10" cy="20" r="8" fill="#4caf50"/><text x="25" y="25" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">Online/Connected</text><rect x="150" y="12" width="50" height="16" fill="#ff9800" rx="2"/><text x="175" y="24" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" font-weight="600" fill="#fff">INGRESS</text><text x="210" y="25" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">Ingress Proxy (Connector)</text><rect x="380" y="12" width="35" height="16" fill="#2196f3" rx="2"/><text x="397" y="24" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" font-weight="600" fill="#fff">EXIT</text><text x="425" y="25" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">Exit Node</text><line x1="550" y1="20" x2="590" y2="20" stroke="#000" stroke-width="3"/><text x="600" y="25" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">Direct WireGuard Connection</text><line x1="780" y1="20" x2="820" y2="20" stroke="#000" stroke-width="1" stroke-dasharray="2,2"/><text x="830" y="25" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">Control Plane</text></g><g id="features" transform="translate(920, 600)"><rect x="0" y="0" width="220" height="140" fill="#f5f5f5" stroke="#000" stroke-width="1" rx="4"/><text x="110" y="20" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="600" fill="#000">Key Features</text><text x="10" y="40" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">• Zero-config ingress</text><text x="10" y="60" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">• Automatic proxy deployment</text><text x="10" y="80" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">• Service discovery</text><text x="10" y="100" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">• Mesh network integration</text><text x="10" y="120" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">• ProxyClass management</text></g></svg></div></div><div class=diagram-info><h3>Tailscale Kubernetes Operator Proxy Architecture</h3><p>Technical diagram showing Tailscale Kubernetes Operator ingress and egress proxy flows for connecting external Tailscale …</p><time>July 23, 2025</time></div></a></article><article class=diagram-card><a href=https://rajsinghtech.github.io/claude-diagrams/diagrams/network/tailscale-mesh-vpn-architecture/ class=diagram-link><div class=diagram-preview><div class=svg-thumbnail><svg width="1200" height="900" viewBox="0 0 1200 900" xmlns="http://www.w3.org/2000/svg"><text x="600" y="35" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="20" font-weight="600" fill="#000">Tailscale Mesh VPN Architecture</text><g id="control-plane"><rect x="450" y="80" width="300" height="100" fill="#e3f2fd" stroke="#000" stroke-width="2" rx="4"/><text x="600" y="110" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="16" font-weight="500" fill="#000">Tailscale Control Plane</text><text x="600" y="130" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#374151">control.tailscale.com</text><text x="600" y="150" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#64748b">• Authentication • Key Exchange</text><text x="600" y="165" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#64748b">• Policy Distribution • DERP Selection</text></g><g id="derp-servers"><g id="derp-us-west"><path d="M150 250l30-20h40l30 20v40l-30 20H180l-30-20z" fill="#f5f5f5" stroke="#000" stroke-width="1"/><text x="200" y="260" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">DERP</text><text x="200" y="280" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#374151">US-West</text><text x="200" y="295" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" fill="#64748b">sfo</text></g><g id="derp-eu-central"><path d="M950 250l30-20h40l30 20v40l-30 20H980l-30-20z" fill="#f5f5f5" stroke="#000" stroke-width="1"/><text x="1e3" y="260" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">DERP</text><text x="1e3" y="280" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#374151">EU-Central</text><text x="1e3" y="295" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" fill="#64748b">fra</text></g><g id="derp-asia-pacific"><path d="M550 350l30-20h40l30 20v40l-30 20H580l-30-20z" fill="#f5f5f5" stroke="#000" stroke-width="1"/><text x="600" y="360" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">DERP</text><text x="600" y="380" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" fill="#374151">Asia-Pacific</text><text x="600" y="395" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" fill="#64748b">syd</text></g></g><g id="tailnet-nodes"><g id="laptop-node"><rect x="100" y="500" width="200" height="120" fill="#fff" stroke="#000" stroke-width="2" rx="4"/><text x="200" y="530" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">laptop</text><text x="200" y="550" text-anchor="middle" font-family="monospace" font-size="12" fill="#374151">100.64.1.5</text><text x="200" y="570" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#64748b">alice.yak-bebop.ts.net</text><circle cx="270" cy="520" r="8" fill="#4caf50"/><text x="200" y="595" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" fill="#64748b">macOS • WireGuard</text></g><g id="server-node"><rect x="350" y="500" width="200" height="120" fill="#fff" stroke="#2196f3" stroke-width="2" rx="4"/><rect x="360" y="510" width="40" height="20" fill="#2196f3" rx="2"/><text x="380" y="525" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" font-weight="600" fill="#fff">EXIT</text><text x="450" y="530" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">server</text><text x="450" y="550" text-anchor="middle" font-family="monospace" font-size="12" fill="#374151">100.64.2.10</text><text x="450" y="570" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#64748b">exit.yak-bebop.ts.net</text><circle cx="520" cy="520" r="8" fill="#4caf50"/><text x="450" y="595" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" fill="#64748b">Linux • Routes: 0.0.0.0/0</text></g><g id="phone-node"><rect x="600" y="500" width="200" height="120" fill="#fff" stroke="#000" stroke-width="2" rx="4"/><text x="700" y="530" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">phone</text><text x="700" y="550" text-anchor="middle" font-family="monospace" font-size="12" fill="#374151">100.64.3.8</text><text x="700" y="570" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#64748b">bob.yak-bebop.ts.net</text><circle cx="770" cy="520" r="8" fill="#4caf50"/><text x="700" y="595" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" fill="#64748b">iOS • WireGuard</text></g><g id="subnet-router"><rect x="850" y="500" width="200" height="120" fill="#fff" stroke="#4caf50" stroke-width="2" rx="4"/><rect x="860" y="510" width="50" height="20" fill="#4caf50" rx="2"/><text x="885" y="525" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" font-weight="600" fill="#fff">SUBNET</text><text x="950" y="530" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="500" fill="#000">office-router</text><text x="950" y="550" text-anchor="middle" font-family="monospace" font-size="12" fill="#374151">100.64.4.1</text><text x="950" y="570" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#64748b">office.yak-bebop.ts.net</text><circle cx="1020" cy="520" r="8" fill="#4caf50"/><text x="950" y="595" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" fill="#64748b">Routes: 192.168.1.0/24</text></g></g><g id="office-subnet"><rect x="880" y="680" width="140" height="80" fill="#f5f5f5" stroke="#000" stroke-width="1" rx="4" stroke-dasharray="3,3"/><text x="950" y="705" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" font-weight="500" fill="#000">Office Network</text><text x="950" y="725" text-anchor="middle" font-family="monospace" font-size="11" fill="#374151">192.168.1.0/24</text><text x="950" y="745" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" fill="#64748b">Internal Resources</text></g><g id="connections" fill="none"><path d="M2e2 5e2q0-5 0-10V240q0-5 5-5H545q5 0 5-5V180" stroke="#9ca3af" stroke-width="1" stroke-dasharray="2,2"/><path d="M450 5e2q0-5 0-10V340q0-5 5-5H595q5 0 5-5V180" stroke="#9ca3af" stroke-width="1" stroke-dasharray="2,2"/><path d="M7e2 5e2q0-5 0-10V240q0-5-5-5H655q-5 0-5-5V180" stroke="#9ca3af" stroke-width="1" stroke-dasharray="2,2"/><path d="M950 5e2q0-5 0-10V240q0-5-5-5H705q-5 0-5-5V180" stroke="#9ca3af" stroke-width="1" stroke-dasharray="2,2"/><line x1="300" y1="560" x2="350" y2="560" stroke="#000" stroke-width="3" marker-end="url(#arrowhead)"/><text x="325" y="550" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">direct</text><line x1="550" y1="560" x2="600" y2="560" stroke="#000" stroke-width="3" marker-end="url(#arrowhead)"/><text x="575" y="550" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">direct</text><line x1="800" y1="560" x2="850" y2="560" stroke="#000" stroke-width="3" marker-end="url(#arrowhead)"/><text x="825" y="550" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">direct</text><path d="M2e2 620q250 50 5e2.0" stroke="#6b7280" stroke-width="2" stroke-dasharray="5,3" opacity=".6"/><text x="450" y="665" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="10" fill="#6b7280">attempting direct</text><path d="M2e2 5e2q0-1e2.0-190" stroke="#6b7280" stroke-width="1" stroke-dasharray="5,3" opacity=".4"/><path d="M7e2 5e2q-1e2-50-1e2-90" stroke="#6b7280" stroke-width="1" stroke-dasharray="5,3" opacity=".4"/><path d="M950 5e2q50-1e2 50-190" stroke="#6b7280" stroke-width="1" stroke-dasharray="5,3" opacity=".4"/><line x1="950" y1="620" x2="950" y2="680" stroke="#4caf50" stroke-width="3" marker-end="url(#arrowhead-green)"/></g><g id="nat-traversal" transform="translate(100, 720)"><rect x="0" y="0" width="300" height="120" fill="#f5f5f5" stroke="#000" stroke-width="1" rx="4"/><text x="150" y="20" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="600" fill="#000">NAT Traversal Process</text><text x="10" y="40" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">1. DISCO packets via DERP</text><text x="10" y="58" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">2. STUN-like endpoint discovery</text><text x="10" y="76" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">3. Direct WireGuard tunnel</text><text x="10" y="94" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">4. Fallback to DERP relay if needed</text></g><defs><marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#000"/></marker><marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#4caf50"/></marker></defs><g id="legend" transform="translate(450, 720)"><rect x="0" y="0" width="400" height="120" fill="#f5f5f5" stroke="#000" stroke-width="1" rx="4"/><text x="200" y="20" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="600" fill="#000">Connection Types</text><line x1="20" y1="40" x2="60" y2="40" stroke="#000" stroke-width="3"/><text x="70" y="45" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">Direct WireGuard (encrypted P2P)</text><line x1="20" y1="60" x2="60" y2="60" stroke="#6b7280" stroke-width="2" stroke-dasharray="5,3"/><text x="70" y="65" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">DERP Relay (encrypted relay)</text><line x1="20" y1="80" x2="60" y2="80" stroke="#9ca3af" stroke-width="1" stroke-dasharray="2,2"/><text x="70" y="85" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">Control Plane (auth, key exchange)</text><circle cx="30" cy="100" r="8" fill="#4caf50"/><text x="45" y="105" font-family="Inter, Arial, sans-serif" font-size="12" fill="#000">Online/Connected</text></g><g id="features" transform="translate(880, 350)"><rect x="0" y="0" width="280" height="120" fill="#fff" stroke="#000" stroke-width="1" rx="4"/><text x="140" y="20" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="600" fill="#000">Mesh VPN Features</text><text x="10" y="40" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">• True mesh topology (no hub)</text><text x="10" y="58" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">• WireGuard encryption</text><text x="10" y="76" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">• Automatic NAT traversal</text><text x="10" y="94" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">• MagicDNS resolution</text><text x="10" y="112" font-family="Inter, Arial, sans-serif" font-size="11" fill="#000">• ACL-based access control</text></g></svg></div></div><div class=diagram-info><h3>Tailscale Mesh VPN Architecture</h3><p>Technical diagram showing Tailscale's mesh VPN architecture with control plane, data plane, and DERP relay servers</p><time>January 23, 2025</time></div></a></article></div></div><style>.section-container{max-width:1400px;margin:0 auto;padding:2rem}.section-header{text-align:center;margin-bottom:3rem}.section-header h1{font-size:2.5rem;margin-bottom:1rem;color:var(--text-primary)}.section-header .description{font-size:1.2rem;color:var(--text-secondary);max-width:800px;margin:0 auto}.diagrams-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:2rem;margin-top:2rem}.diagram-card{background:var(--bg-secondary);border-radius:10px;overflow:hidden;transition:transform .2s,box-shadow .2s;height:100%}.diagram-card:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(0,0,0,.1)}.diagram-link{display:flex;flex-direction:column;height:100%;text-decoration:none;color:inherit}.diagram-preview{height:220px;background:#f8f9fa;display:flex;align-items:center;justify-content:center;overflow:hidden}.svg-thumbnail{width:100%;height:100%;padding:1rem}.svg-thumbnail svg{width:100%;height:100%;object-fit:contain}.diagram-preview img{width:100%;height:100%;object-fit:contain;padding:1rem}.placeholder{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;font-size:1.3rem;font-weight:700;text-align:center;padding:1.5rem}.diagram-info{padding:1.25rem;flex-grow:1;display:flex;flex-direction:column}.diagram-info h3{margin:0 0 .5rem;font-size:1.15rem;color:var(--text-primary)}.diagram-info p{color:var(--text-secondary);font-size:.9rem;line-height:1.4;margin-bottom:.75rem;flex-grow:1}.diagram-info time{font-size:.8rem;color:var(--text-secondary);opacity:.8}.subsections{margin-top:4rem}.subsections h2{text-align:center;margin-bottom:2rem;color:var(--text-primary)}.subsection-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem}.subsection-card{background:var(--bg-secondary);padding:2rem;border-radius:10px;text-decoration:none;color:inherit;text-align:center;transition:all .2s}.subsection-card:hover{background:var(--accent);color:#fff;transform:translateY(-2px)}.subsection-card h3{margin:0 0 .5rem;font-size:1.25rem}.subsection-card p{margin:0;opacity:.8}.dark .diagram-preview{background:#1a1a1a}.dark .svg-thumbnail svg{filter:invert(1)hue-rotate(180deg)}@media(max-width:768px){.diagrams-grid{grid-template-columns:1fr;gap:1.5rem}.section-header h1{font-size:2rem}.diagram-preview{height:180px}}</style></main></body></html>